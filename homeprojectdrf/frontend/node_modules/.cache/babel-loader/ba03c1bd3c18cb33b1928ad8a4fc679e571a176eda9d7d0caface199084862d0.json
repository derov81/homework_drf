{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\PycharmProjects\\\\DjangoStudy\\\\homework_drf\\\\homeprojectdrf\\\\frontend\\\\src\\\\components\\\\Sections\\\\FeedbackForm.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://127.0.0.1:8000/api/feedback/\";\nconst FeedbackForm = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    message: \"\",\n    attachment: null\n  });\n  const [statusMessage, setStatusMessage] = useState(\"\");\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleFileChange = e => {\n    setFormData({\n      ...formData,\n      attachment: e.target.files[0]\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const data = new FormData();\n    data.append(\"name\", formData.name);\n    data.append(\"email\", formData.email);\n    data.append(\"message\", formData.message);\n    if (formData.attachment) {\n      data.append(\"attachment\", formData.attachment);\n    }\n    const token = localStorage.getItem(\"token\");\n    const headers = {\n      \"Content-Type\": \"multipart/form-data\"\n    };\n    if (token) {\n      headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    try {\n      await axios.post(API_URL, data, {\n        headers\n      });\n      setStatusMessage(\"✅ Ваше сообщение отправлено!\");\n      setFormData({\n        name: \"\",\n        email: \"\",\n        message: \"\",\n        attachment: null\n      });\n    } catch (error) {\n      console.error(\"Ошибка при отправке:\", error);\n      setStatusMessage(\"❌ Не удалось отправить сообщение. Попробуйте позже.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041E\\u0431\\u0440\\u0430\\u0442\\u043D\\u0430\\u044F \\u0441\\u0432\\u044F\\u0437\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      encType: \"multipart/form-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"\\u0418\\u043C\\u044F *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          name: \"name\",\n          value: formData.name,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"form-control\",\n          name: \"email\",\n          value: formData.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435 *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"form-control\",\n          name: \"message\",\n          rows: \"4\",\n          value: formData.message,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"\\u041F\\u0440\\u0438\\u043A\\u0440\\u0435\\u043F\\u0438\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"form-control\",\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), statusMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info mt-3\",\n      children: statusMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(FeedbackForm, \"c1an2scTYjsXeD/30hdad9r/gPs=\");\n_c = FeedbackForm;\nexport default FeedbackForm;\nvar _c;\n$RefreshReg$(_c, \"FeedbackForm\");","map":{"version":3,"names":["useState","axios","jsxDEV","_jsxDEV","API_URL","FeedbackForm","_s","formData","setFormData","name","email","message","attachment","statusMessage","setStatusMessage","handleChange","e","target","value","handleFileChange","files","handleSubmit","preventDefault","data","FormData","append","token","localStorage","getItem","headers","post","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","encType","type","onChange","required","rows","_c","$RefreshReg$"],"sources":["C:/Users/Samsung/PycharmProjects/DjangoStudy/homework_drf/homeprojectdrf/frontend/src/components/Sections/FeedbackForm.js"],"sourcesContent":["                          import { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = \"http://127.0.0.1:8000/api/feedback/\";\r\n\r\nconst FeedbackForm = () => {\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        message: \"\",\r\n        attachment: null,\r\n    });\r\n\r\n    const [statusMessage, setStatusMessage] = useState(\"\");\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleFileChange = (e) => {\r\n        setFormData({ ...formData, attachment: e.target.files[0] });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData();\r\n        data.append(\"name\", formData.name);\r\n        data.append(\"email\", formData.email);\r\n        data.append(\"message\", formData.message);\r\n        if (formData.attachment) {\r\n            data.append(\"attachment\", formData.attachment);\r\n        }\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n        const headers = {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n        };\r\n        if (token) {\r\n            headers[\"Authorization\"] = `Bearer ${token}`;\r\n        }\r\n\r\n        try {\r\n            await axios.post(API_URL, data, { headers });\r\n            setStatusMessage(\"✅ Ваше сообщение отправлено!\");\r\n            setFormData({\r\n                name: \"\",\r\n                email: \"\",\r\n                message: \"\",\r\n                attachment: null,\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Ошибка при отправке:\", error);\r\n            setStatusMessage(\"❌ Не удалось отправить сообщение. Попробуйте позже.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            <h2>Обратная связь</h2>\r\n            <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n                <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Имя *</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"name\"\r\n                        value={formData.name}\r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Email</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        className=\"form-control\"\r\n                        name=\"email\"\r\n                        value={formData.email}\r\n                        onChange={handleChange}\r\n                    />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Сообщение *</label>\r\n                    <textarea\r\n                        className=\"form-control\"\r\n                        name=\"message\"\r\n                        rows=\"4\"\r\n                        value={formData.message}\r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label className=\"form-label\">Прикрепить файл</label>\r\n                    <input\r\n                        type=\"file\"\r\n                        className=\"form-control\"\r\n                        onChange={handleFileChange}\r\n                    />\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary\">\r\n                    Отправить\r\n                </button>\r\n            </form>\r\n\r\n            {statusMessage && (\r\n                <div className=\"alert alert-info mt-3\">{statusMessage}</div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FeedbackForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}